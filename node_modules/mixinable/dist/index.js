function n(e,r){return(n=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(e,r)}function e(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}function r(t,c,l){return(r=e()?Reflect.construct:function(e,r,t){var c=[null];c.push.apply(c,r);var l=new(Function.bind.apply(e,c));return t&&n(l,t.prototype),l}).apply(null,arguments)}function t(n){var e=n.slice().pop();if(u(e))return e.apply(void 0,[].slice.call(arguments,1))}function c(n){var e=arguments,r=n.map(function(n){return n.apply(void 0,[].slice.call(e,1))});return r.find(p)?Promise.all(r):r}function l(n,e){var r=[].slice.call(arguments,2);return n.reduce(function(n,e){return p(n)?n.then(function(n){return e.apply(void 0,[n].concat(r))}):e.apply(void 0,[n].concat(r))},e)}function o(n){return l.apply(void 0,[n.slice().reverse()].concat([].slice.call(arguments,1)))}var i={callable:function(){return f(t).apply(void 0,[].slice.call(arguments))},override:function(){return f(t).apply(void 0,[].slice.call(arguments))},sequence:function(){return f(c).apply(void 0,[].slice.call(arguments))},parallel:function(){return f(c).apply(void 0,[].slice.call(arguments))},pipe:function(){return f(l).apply(void 0,[].slice.call(arguments))},compose:function(){return f(o).apply(void 0,[].slice.call(arguments))}};function u(n){return"function"==typeof n}function p(n){return n&&u(n.then)&&n instanceof Promise}function a(n){return function(){var e=n.apply(void 0,[].slice.call(arguments));return p(e)?e:Promise.resolve(e)}}function f(n){return function(){var e=n.apply(void 0,[].slice.call(arguments));if(p(e))throw new Error("got promise in sync mode");return e}}exports.async={callable:function(){return a(t).apply(void 0,[].slice.call(arguments))},override:function(){return a(t).apply(void 0,[].slice.call(arguments))},parallel:function(){return a(c).apply(void 0,[].slice.call(arguments))},pipe:function(){return a(l).apply(void 0,[].slice.call(arguments))},compose:function(){return a(o).apply(void 0,[].slice.call(arguments))}},exports.callable=t,exports.compose=o,exports.define=function(n,e){var t=function(){var t=arguments,c=this,l=(e||[]).map(function(n){return r(n,[].slice.call(t))});Object.keys(n||{}).forEach(function(e){c[e]=n[e].bind(c,l.reduce(function(n,r){return u(r[e])&&n.push(r[e].bind(r)),n},[])),l.forEach(function(n){n[e]=c[e]})})};return function(){return r(t,[].slice.call(arguments))}},exports.override=t,exports.parallel=c,exports.pipe=l,exports.sync=i;
//# sourceMappingURL=index.js.map
