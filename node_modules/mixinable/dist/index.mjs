function n(t,e){return(n=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(t,e)}function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}function e(r,c,l){return(e=t()?Reflect.construct:function(t,e,r){var c=[null];c.push.apply(c,e);var l=new(Function.bind.apply(t,c));return r&&n(l,r.prototype),l}).apply(null,arguments)}function r(n,t){var r=function(){var r=arguments,c=this,l=(t||[]).map(function(n){return e(n,[].slice.call(r))});Object.keys(n||{}).forEach(function(t){c[t]=n[t].bind(c,l.reduce(function(n,e){return p(e[t])&&n.push(e[t].bind(e)),n},[])),l.forEach(function(n){n[t]=c[t]})})};return function(){return e(r,[].slice.call(arguments))}}function c(n){var t=n.slice().pop();if(p(t))return t.apply(void 0,[].slice.call(arguments,1))}function l(n){var t=arguments,e=n.map(function(n){return n.apply(void 0,[].slice.call(t,1))});return e.find(f)?Promise.all(e):e}function i(n,t){var e=[].slice.call(arguments,2);return n.reduce(function(n,t){return f(n)?n.then(function(n){return t.apply(void 0,[n].concat(e))}):t.apply(void 0,[n].concat(e))},t)}function o(n){return i.apply(void 0,[n.slice().reverse()].concat([].slice.call(arguments,1)))}var u={callable:function(){return s(c).apply(void 0,[].slice.call(arguments))},override:function(){return s(c).apply(void 0,[].slice.call(arguments))},parallel:function(){return s(l).apply(void 0,[].slice.call(arguments))},pipe:function(){return s(i).apply(void 0,[].slice.call(arguments))},compose:function(){return s(o).apply(void 0,[].slice.call(arguments))}},a={callable:function(){return v(c).apply(void 0,[].slice.call(arguments))},override:function(){return v(c).apply(void 0,[].slice.call(arguments))},sequence:function(){return v(l).apply(void 0,[].slice.call(arguments))},parallel:function(){return v(l).apply(void 0,[].slice.call(arguments))},pipe:function(){return v(i).apply(void 0,[].slice.call(arguments))},compose:function(){return v(o).apply(void 0,[].slice.call(arguments))}};function p(n){return"function"==typeof n}function f(n){return n&&p(n.then)&&n instanceof Promise}function s(n){return function(){var t=n.apply(void 0,[].slice.call(arguments));return f(t)?t:Promise.resolve(t)}}function v(n){return function(){var t=n.apply(void 0,[].slice.call(arguments));if(f(t))throw new Error("got promise in sync mode");return t}}export{u as async,c as callable,o as compose,r as define,c as override,l as parallel,i as pipe,a as sync};
//# sourceMappingURL=index.mjs.map
